.MODEL small             ;??????? ??? ???? ? ??? ?????? ?? 64??
.STACK 100h          ;???????? ?????? ???????? ?????
.DATA                ;???????? ?????? ???????? ??????
NL     db        0Ah, 0Dh, '$'
Buf     DB       255, 0, 256 DUP (?)     ;
.CODE                ;???????? ?????? ???????? ?????
main:
mov     ax,@data         ;???????? ?????
mov     ds,ax        ;???????? ??????
mov     dx,offset Buf   ;??????????????? ? ??????????
mov     ah,0Ah
int     21h

xor     cx,cx
mov     al,[Buf+1]       ;???? ??????? 0 ????, ?? ????? ??
mov     cl,al        ;?????? ???????????????????? (????? ??????)
test    al,al        ;?????????
jz       Exit
mov     ah,09h
mov     dx,offset NL    ; ??????? ?? ????????? ??????
int     21h
mov     si,offset Buf+2
mov dh,0Dh           ;?????????? - ????? ??????? ??????,
                                 ;???????? ?? ????????? ??????????? ??????
Cycle:
     mov     dl,[si]         ;??????? ??????
     cmp     dl,' '      ;???????? ? ????????
      jne     Print      ;???? ?? ?????? - ???????
      jmp NextChar
     Print:
     mov     ah,02h      ;????? ??????? 2
     int     21h         ;????? DOS
     NextChar:
     mov dh,dl           ;?????????????????????? ??? ????? ?? ????????? ?????
     inc     si          ;??????? ??????????? ???????
loop    Cycle
Exit:
  mov     AX,4C00h       ;?????
  int     21h        ;?? ?????????

END main